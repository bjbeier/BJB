<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BJ Beier | CIO & Tech Enthusiast</title>
    <meta name="description" content="Personal site of BJ Beier - CIO, Tech Enthusiast, and Problem Solver.">
    <link rel="icon" type="image/png" href="images/favicon.png">
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Custom Style Block for CSS Variables and Keyframes -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Fira+Code:wght@300;400;600&family=Inter:wght@300;400;600;800&display=swap');

        /* Default Light Theme Variables */
        :root {
            --color-bg: #f8fafc;       /* Slate 50 */
            --color-text-main: #0f172a;    /* Slate 900 */
            --color-text-muted: #64748b;   /* Slate 500 */
            --color-accent: #0284c7;       /* Sky 600 */
            --color-terminal-green: #22c55e;
        }

        /* Dark Theme Variables */
        html.dark {
            --color-bg: #0f172a;       /* Slate 900 */
            --color-text-main: #f1f5f9;    /* Slate 100 */
            --color-text-muted: #94a3b8;   /* Slate 400 */
            --color-accent: #38bdf8;       /* Sky 400 */
        }
        
        /* Apply Base Styles and Fonts */
        body {
            background-color: var(--color-bg);
            color: var(--color-text-main);
            font-family: 'Inter', sans-serif;
            line-height: 1.6;
            transition: background-color 0.3s ease, color 0.3s ease;
            min-height: 100vh; /* Full viewport height */
            display: flex;
            flex-direction: column;
        }

        /* Custom Class using variables */
        .text-accent { color: var(--color-accent); }
        .text-muted { color: var(--color-text-muted); }
        .font-mono { font-family: 'Fira Code', monospace; }
        .terminal-green { color: var(--color-terminal-green); }

        /* Animations */
        @keyframes ping { 0% { transform: scale(1); opacity: 1; } 100% { transform: scale(2); opacity: 0; } }
        @keyframes blink { 50% { opacity: 0; } }
        
        .typing-cursor::after { content: '|'; animation: blink 1s step-start infinite; }
        
        /* Navbar specific blur background for better readability */
        .navbar { backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); }
    </style>
</head>
<body class="selection:bg-sky-200 selection:text-slate-900 dark:selection:bg-sky-800 dark:selection:text-white">

    <div id="nav-placeholder"></div>
    <main>
        <!-- Hero Section -->
        <section id="about" class="pt-32 pb-20 relative overflow-hidden">
            <div class="max-w-7xl mx-auto px-6">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                    <!-- Text Block -->
                    <div class="flex flex-col justify-center items-center md:items-start text-center md:text-left">
                        <div class="inline-flex items-center px-3 py-1 mb-6 rounded-full border border-sky-600 dark:border-sky-400 text-xs font-mono text-accent bg-sky-100/30 dark:bg-sky-900/20">
                            <span class="relative flex h-2 w-2 mr-2">
                              <span class="absolute inline-flex h-full w-full rounded-full bg-accent opacity-75" style="animation: ping 1s cubic-bezier(0, 0, 0.2, 1) infinite;"></span>
                              <span class="relative inline-flex rounded-full h-2 w-2 bg-accent"></span>
                            </span>
                            System Status: Online
                        </div>
                        
                        <!-- Mobile Headshot -->
                        <div class="md:hidden flex justify-center mb-8">
                             <img src="images/bjbeier.jpg" alt="BJ Beier" class="rounded-full border-4 border-slate-50 dark:border-slate-900 shadow-xl object-cover ring-4 ring-sky-500/50" style="width: 150px; height: 150px;">
                        </div>

                    <h1 class="text-4xl sm:text-5xl lg:text-7xl font-extrabold text-white tracking-tight mb-6">
                        Hi, I'm BJ.<br>
                        <span class="text-transparent bg-clip-text bg-gradient-to-r from-brand-accent to-blue-600">
                            I build & lead
                        </span>
                    </h1>
                    
                    <div class="h-8 mb-8">
                        <span id="typewriter" class="font-mono text-xl sm:text-2xl text-brand-terminal typing-cursor"></span>
                    </div>

                        <p class="text-lg text-muted mb-10 max-w-xl">
                            Currently serving as <strong>Chief Information Officer</strong> at Guardian Savings Bank. 
                            Bridging the gap between enterprise finance strategy and the sheer joy of tinkering with 
                            Linux, Docker, and Home Automation.
                        </p>

                    <!-- Mobile Terminal Window (Visible on Mobile, Hidden on Desktop) -->
                    <div class="block lg:hidden text-left mb-10 mx-auto max-w-md">
                         <div class="terminal-window rounded-lg bg-[#1e1e1e] border border-slate-700 overflow-hidden relative z-10">
                            <div class="flex items-center px-4 py-2 bg-[#2d2d2d] border-b border-slate-700">
                                <div class="flex space-x-2">
                                    <div class="w-3 h-3 rounded-full bg-red-500"></div>
                                    <div class="w-3 h-3 rounded-full bg-yellow-500"></div>
                                    <div class="w-3 h-3 rounded-full bg-green-500"></div>
                                </div>
                                <div class="flex-1 text-center text-xs font-mono text-slate-400">bj@mobile-term:~</div>
                            </div>
                            <div class="p-4 font-mono text-xs sm:text-sm">
                                <div class="mb-2">
                                    <span class="text-green-400">bj@mobile:~$</span> neofetch
                                </div>
                                <div class="flex gap-2 text-slate-300">
                                    <div class="text-brand-accent font-bold">
<pre class="leading-none text-[6px] sm:text-[8px] text-blue-400">
      ________
    _|_|_|_|_|_
   |           |
 --|   _____   |--
 --|  |[:.:]|  |--
 --|  |_____|  |--
   |___________|
     | | | | |
</pre>
                                    </div>
                                    <div class="pl-1">
                                        <p><span class="text-brand-accent">Role:</span> CIO</p>
                                        <p><span class="text-brand-accent">Shell:</span> ZSH</p>
                                        <p><span class="text-brand-accent">Stat:</span> Geek</p>
                                    </div>
                                </div>
                                <div class="mt-2">
                                    <span class="text-green-400">bj@mobile:~$</span> <span class="animate-pulse">_</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Visual Block -->
                    <div class="hidden md:block relative pt-12">
                        <!-- Headshot Desktop -->
                        <div class="absolute z-20 top-0 left-0">
                            <img src="images/bjbeier.jpg" alt="BJ Beier" class="rounded-full border-4 border-white dark:border-slate-900 shadow-xl object-cover ring-4 ring-sky-500/50" style="width: 120px; height: 120px; transform: rotate(-6deg);">
                        </div>

                        <!-- Terminal Window -->
                        <div class="bg-[#1e1e1e] rounded-xl border border-[#333] shadow-2xl overflow-hidden font-mono text-sm">
                            <div class="bg-[#2d2d2d] px-4 py-2 border-b border-[#333] flex items-center">
                                <div class="flex space-x-2 mr-4">
                                    <div class="w-3 h-3 bg-red-500 rounded-full"></div>
                                    <div class="w-3 h-3 bg-yellow-500 rounded-full"></div>
                                    <div class="w-3 h-3 bg-green-500 rounded-full"></div>
                                </div>
                                <div class="text-slate-400 text-xs flex-1 text-center">bj@home-lab:~</div>
                            </div>
                            <div class="flex-1 text-center text-xs font-mono text-slate-400">bj@home-lab:~</div>
                        </div>
                        <div class="p-6 font-mono text-sm">
                            <div class="mb-4">
                                <span class="text-green-400">bj@home-lab:~$</span> neofetch
                            </div>
                            <div class="flex gap-4 text-slate-300">
                                <div class="text-brand-accent hidden sm:block font-bold">
<!-- Custom Chip ASCII Art -->
<pre class="leading-none text-[8px] sm:text-[10px] text-blue-400">
      ________
    _|_|_|_|_|_
   |           |
 --|   _____   |--
 --|  |[:.:]|  |--
 --|  |_____|  |--
   |___________|
     | | | | |
</pre>
                                </div>
                                <div class="pl-2">
                                    <p><span class="text-brand-accent">OS:</span> Linux (Arch/Debian)</p>
                                    <p><span class="text-brand-accent">Role:</span> CIO / Leader</p>
                                    <p><span class="text-brand-accent">Shell:</span> ZSH</p>
                                    <p><span class="text-brand-accent">Uptime:</span> 20+ Years</p>
                                    <p><span class="text-brand-accent">Interests:</span> Family, Tech</p>
                                    <p><span class="text-brand-accent">Status:</span> Geek Mode</p>
                                </div>
                            </div>
                            <div class="mt-4">
                                <span class="text-green-400">bj@home-lab:~$</span> <span class="animate-pulse">_</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

        <!-- Stack Section -->
        <section id="stack" class="py-20 bg-slate-50 dark:bg-slate-950 border-t border-b border-slate-100 dark:border-slate-800">
            <div class="max-w-7xl mx-auto px-6">
                <div class="text-center mb-12">
                    <h2 class="text-3xl font-bold mb-4">The Stack & Interests</h2>
                    <p class="text-lg text-muted max-w-3xl mx-auto">From enterprise boardrooms to my personal home lab rack, these are the tools I interact with daily.</p>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                    <!-- Card 1 -->
                    <div class="bg-white/50 backdrop-blur-md border border-slate-200 shadow-lg rounded-xl p-8 transition-all duration-200 hover:scale-[1.01] hover:shadow-xl dark:bg-slate-800/70 dark:border-slate-700 dark:hover:border-sky-400">
                        <div class="flex justify-between mb-4">
                            <i data-lucide="server" class="text-accent w-8 h-8"></i>
                            <span class="text-xs font-mono text-muted bg-slate-100 dark:bg-slate-900 px-2 py-1 rounded">Infra</span>
                        </div>
                        <h3 class="text-xl font-bold mb-2">Linux & Virtualization</h3>
                        <p class="text-sm text-muted">Tinkering with Proxmox, Docker containers, and minimalist distros to test new ideas.</p>
                    </div>
                    <!-- Card 2 -->
                    <div class="bg-white/50 backdrop-blur-md border border-slate-200 shadow-lg rounded-xl p-8 transition-all duration-200 hover:scale-[1.01] hover:shadow-xl dark:bg-slate-800/70 dark:border-slate-700 dark:hover:border-sky-400">
                        <div class="flex justify-between mb-4">
                            <i data-lucide="home" class="text-accent w-8 h-8"></i>
                            <span class="text-xs font-mono text-muted bg-slate-100 dark:bg-slate-900 px-2 py-1 rounded">IoT</span>
                        </div>
                        <h3 class="text-xl font-bold mb-2">Home Automation</h3>
                        <p class="text-sm text-muted">Home Assistant setups that actually help (when I'm not breaking them). Practical dad-tech.</p>
                    </div>
                    <!-- Card 3 -->
                    <div class="bg-white/50 backdrop-blur-md border border-slate-200 shadow-lg rounded-xl p-8 transition-all duration-200 hover:scale-[1.01] hover:shadow-xl dark:bg-slate-800/70 dark:border-slate-700 dark:hover:border-sky-400">
                        <div class="flex justify-between mb-4">
                            <i data-lucide="briefcase" class="text-accent w-8 h-8"></i>
                            <span class="text-xs font-mono text-muted bg-slate-100 dark:bg-slate-900 px-2 py-1 rounded">Work</span>
                        </div>
                        <h3 class="text-xl font-bold mb-2">Leadership & Strategy</h3>
                        <p class="text-sm text-muted">CIO at Guardian Savings Bank. Merging financial security with modern innovation.</p>
                    </div>
                    <!-- Card 4 -->
                    <div class="bg-white/50 backdrop-blur-md border border-slate-200 shadow-lg rounded-xl p-8 transition-all duration-200 hover:scale-[1.01] hover:shadow-xl dark:bg-slate-800/70 dark:border-slate-700 dark:hover:border-sky-400">
                        <div class="flex justify-between mb-4">
                            <i data-lucide="smartphone" class="text-accent w-8 h-8"></i>
                            <span class="text-xs font-mono text-muted bg-slate-100 dark:bg-slate-900 px-2 py-1 rounded">Mobile</span>
                        </div>
                        <h3 class="text-xl font-bold mb-2">Android Ecosystem</h3>
                        <p class="text-sm text-muted">Open source advocate. Using Android since v1. Customizing flows to optimize life.</p>
                    </div>
                </div>
            </div>
        </section>

    <!-- Projects / Lab Section -->
    <section id="projects" class="py-20 relative">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex flex-col md:flex-row md:items-end justify-between mb-12">
                <div>
                    <h2 class="text-3xl font-bold text-white mb-4">Projects & Lab</h2>
                    <p class="text-slate-400">Current experiments and past ventures.</p>
                </div>
                <a href="https://github.com/bjbeier" target="_blank" class="hidden md:inline-flex items-center text-sm font-mono text-brand-accent hover:text-white transition-colors mt-4 md:mt-0">
                    View GitHub Activity <i data-lucide="arrow-up-right" class="ml-2 w-4 h-4"></i>
                </a>
            </div>

            <div class="grid md:grid-cols-2 gap-8">
                <!-- Project 1 (Home Lab Refactor) -->
                <div class="group relative rounded-2xl overflow-hidden bg-slate-800 border border-slate-700 h-80">
                    <div class="absolute inset-0 bg-gradient-to-t from-slate-900 via-slate-900/80 to-slate-900/30 opacity-90 z-10"></div>
                    <!-- Home Lab Image Background -->
                    <div class="absolute inset-0 bg-[url('images/circuit-board-large.png')] bg-cover bg-center group-hover:scale-105 transition-transform duration-500 opacity-60"></div>
                    
                    <div class="absolute bottom-0 left-0 p-8 z-20">
                        <div class="flex items-center space-x-2 mb-2">
                            <span class="px-2 py-1 text-xs font-bold text-slate-900 bg-green-400 rounded">ACTIVE</span>
                        </div>
                        <h3 class="text-2xl font-bold text-white mb-2">Home Lab Refactor</h3>
                        <p class="text-slate-300 mb-4">
                            The shift from heavy Virtual Machines (VMs) to lightweight, efficient Docker containers. This provides better resource utilization, increases control over my data, and allows me to learn DevOps/infra skills that translate directly to enterprise architecture.
                        </p>
                        <ul class="flex space-x-4 text-slate-400 text-sm font-mono">
                            <li>#Docker</li>
                            <li>#Nginx</li><!-- Traefik changed to Nginx -->
                            <li>#PiHole</li>
                        </ul>
                    </div>
                    <a href="https://github.com/bjbeier" target="_blank" class="hidden md:flex text-accent font-mono items-center mt-4 md:mt-0 hover:text-sky-500 transition duration-150">
                        View GitHub Activity <i data-lucide="arrow-up-right" class="w-4 h-4 ml-2"></i>
                    </a>
                </div>

                <!-- Project 2 (Updated with BDT Image) -->
                <a href="https://bluedroidtech.com" target="_blank" class="block">
                    <div class="group relative rounded-2xl overflow-hidden bg-slate-800 border border-slate-700 h-80">
                        <div class="absolute inset-0 bg-gradient-to-t from-slate-900 via-slate-900/60 to-transparent opacity-90 z-10"></div>
                        <!-- BDT Background Image -->
                        <div class="absolute inset-0 bg-[url('images/bdt.png')] bg-cover bg-center group-hover:scale-105 transition-transform duration-500 opacity-80"></div>
                        
                        <div class="absolute bottom-0 left-0 p-8 z-20">
                            <div class="flex items-center space-x-2 mb-2">
                                <span class="px-2 py-1 text-xs font-bold text-slate-900 bg-slate-400 rounded">ARCHIVED</span>
                            </div>
                        </div>
                    </div>

                    <!-- Project 2 -->
                    <a href="https://bluedroidtech.com" target="_blank" class="relative overflow-hidden min-h-[350px] rounded-xl border border-slate-200 dark:border-slate-700 shadow-lg transition-all duration-200 hover:scale-[1.01] hover:shadow-xl hover:border-sky-400">
                         <div class="absolute inset-0 bg-cover bg-center opacity-40" style="background-image: url('images/bdt.png');"></div>
                        <div class="absolute inset-0 bg-gradient-to-t from-white dark:from-slate-900/90 to-transparent"></div>
                        
                        <div class="relative z-10 p-8 flex flex-col h-full justify-end">
                            <span class="font-mono text-xs font-bold bg-terminal-green text-black px-2 py-1 rounded self-start mb-2">ACTIVE</span>
                            <h3 class="text-2xl font-bold mb-2 flex items-center">Blue Droid Technologies <i data-lucide="external-link" class="w-4 h-4 ml-2"></i></h3>
                            <p class="text-muted text-sm mb-4">Small Business venture focused on making technology easy and accessible. "Support Made Simple".</p>
                             <div class="flex gap-4 font-mono text-xs text-muted">
                                <span>#Entrepreneurship</span><span>#SMB</span>
                            </div>
                        </div>
                    </a>
                </div>
            </div>
        </section>

        <!-- Network Section -->
        <section id="network" class="py-20 bg-slate-50 dark:bg-slate-950 border-t border-slate-100 dark:border-slate-800">
            <div class="max-w-7xl mx-auto px-6">
                <h2 class="text-3xl font-bold mb-12">The Network</h2>
                
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                    <!-- TabGeeks -->
                    <a href="https://tabgeeks.com" target="_blank" class="flex items-start gap-4 p-6 bg-white/50 backdrop-blur-md border border-slate-200 shadow-lg rounded-xl transition-all duration-200 hover:scale-[1.01] hover:shadow-xl dark:bg-slate-800/70 dark:border-slate-700 hover:border-sky-400">
                        <img src="images/tabgeeks.png" alt="TabGeeks" class="w-12 h-12 object-contain bg-white p-1 rounded-lg">
                        <div>
                            <h3 class="text-lg font-bold text-white group-hover:text-brand-accent">TABGeeks</h3>
                            <!-- Removed line-clamp-2 to ensure full visibility -->
                            <p class="text-sm text-slate-400 mt-1">An independent network of shows and resources by IT Professionals, for IT Professionals.</p>
                        </div>
                    </div>
                </a>

                <!-- Network Item 2 (TechnoTim) -->
                <a href="https://technotim.live/" target="_blank" class="glass-card p-6 rounded-lg hover:border-brand-accent/50 transition-all group">
                    <div class="flex items-center gap-4">
                        <div class="flex-shrink-0">
                            <!-- Replaced Lucide icon with image as requested -->
                            <img src="images/technotim.jpg" alt="TechnoTim Logo" class="w-16 h-16 rounded-md object-cover">
                        </div>
                        <div>
                            <h3 class="text-lg font-bold text-white group-hover:text-brand-accent">TechnoTim</h3>
                            <!-- Removed line-clamp-2 to ensure full visibility -->
                            <p class="text-sm text-slate-400 mt-1">Popular YouTube channel and community focused on Home Lab, containers, and self-hosting.</p>
                        </div>
                    </div>
                </a>

                <!-- Placeholder for future items (keeping one) -->
                <div class="border border-dashed border-slate-700 rounded-lg p-6 flex flex-col items-center justify-center text-center opacity-50 min-h-[100px]">
                    <i data-lucide="plus" class="w-8 h-8 text-slate-600 mb-2"></i>
                    <span class="text-sm text-slate-500">More coming soon...</span>
                </div>
            </div>
        </div>
    </section>

    <!-- Latest Thoughts Preview -->
    <section id="thoughts-preview" class="py-20 border-y border-white/5 bg-slate-800/20">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <h2 class="text-3xl font-bold text-white mb-6">Digital Insights</h2>
            <p class="text-slate-400 mb-8">Thoughts on leadership, technology, and tinkering.</p>
            <a href="blog.html" class="inline-flex items-center justify-center px-8 py-4 border border-brand-accent text-base font-medium rounded-lg text-brand-accent hover:bg-brand-accent hover:text-white transition-all">
                Read the Blog
                <i data-lucide="book-open" class="ml-2 h-5 w-5"></i>
            </a>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-brand-dark border-t border-slate-800 pt-16 pb-8">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex flex-col md:flex-row justify-between items-center mb-8">
                <div class="mb-6 md:mb-0">
                    <a href="#" class="font-mono text-xl font-bold text-white tracking-tighter">
                        <span class="text-brand-accent">&lt;</span>BJ.Beier<span class="text-brand-accent">/&gt;</span>
                    </a>
                    <p class="text-slate-500 text-sm mt-2">Problem Solver. Leader. Knowledge Seeker.</p>
                </div>
            </nav>
            `;
        }

        // Footer HTML Generator
        function getFooterHTML() {
            return `
            <footer class="mt-auto bg-white/80 dark:bg-slate-900/80 border-t border-slate-200 dark:border-slate-700 py-16">
                <div class="max-w-7xl mx-auto px-6">
                    <div class="flex flex-col md:flex-row justify-between items-center mb-10 gap-6">
                        <div class="text-center md:text-left">
                            <a href="index.html" class="font-mono text-xl font-bold">
                                <span class="text-accent">&lt;</span>BJ.Beier<span class="text-accent">/&gt;</span>
                            </a>
                            <p class="text-muted text-sm mt-4">Problem Solver. Leader. Knowledge Seeker.</p>
                        </div>
                        <div class="flex space-x-6 text-slate-500 dark:text-slate-400">
                            <a href="https://linkedin.com/in/bjbeier" class="hover:text-accent transition duration-150" aria-label="LinkedIn">
                                <i data-lucide="linkedin" class="w-6 h-6"></i>
                            </a>
                            <a href="https://x.com/bjbeier" class="hover:text-accent transition duration-150" aria-label="X (Twitter)">
                                <i data-lucide="twitter" class="w-6 h-6"></i>
                            </a>
                            <a href="https://github.com/bjbeier" class="hover:text-accent transition duration-150" aria-label="GitHub">
                                <i data-lucide="github" class="w-6 h-6"></i>
                            </a>
                             <a href="mailto:contact@bjbeier.com" class="hover:text-accent transition duration-150" aria-label="Email">
                                <i data-lucide="mail" class="w-6 h-6"></i>
                            </a>
                        </div>
                    </div>
                    <div class="flex flex-col md:flex-row justify-between items-center text-sm text-muted pt-8 border-t border-slate-200 dark:border-slate-800">
                        <p>&copy; 2025 BJ Beier. All rights reserved.</p>
                        <div class="flex items-center space-x-2 mt-4 md:mt-0 font-mono text-xs">
                            <span class="terminal-green">âžœ</span>
                            <span id="dad-joke" class="italic">Loading tech humor...</span>
                        </div>
                    </div>
                </div>
            </footer>
            `;
        }

        // Theme Toggle Logic
        function toggleTheme() {
            const html = document.documentElement;
            const isDark = html.classList.contains('dark');
            
            if (isDark) {
                html.classList.remove('dark');
                localStorage.setItem('theme', 'light');
            } else {
                html.classList.add('dark');
                localStorage.setItem('theme', 'dark');
            }
            
            updateThemeIcons();
        }

        function updateThemeIcons() {
            const isDark = document.documentElement.classList.contains('dark');
            
            // Toggle icons based on dark mode status
            document.querySelectorAll('.hidden-light-mode').forEach(el => {
                el.style.display = isDark ? 'none' : 'block';
            });
            document.querySelectorAll('.hidden-dark-mode').forEach(el => {
                el.style.display = isDark ? 'block' : 'none';
            });
        }

        // Initialization
        function initSite() {
            // 1. Initialize Theme from Storage
            const savedTheme = localStorage.getItem('theme');
            const systemDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
            
            if (savedTheme === 'dark' || (!savedTheme && systemDark)) {
                document.documentElement.classList.add('dark');
            } else {
                document.documentElement.classList.remove('dark');
            }

            // 2. Inject Nav
            const navPlaceholder = document.getElementById('nav-placeholder');
            if (navPlaceholder) {
                navPlaceholder.innerHTML = getNavHTML();
                
                // Mobile Menu Logic
                const mobileBtn = document.getElementById('mobile-menu-btn');
                const mobileMenu = document.getElementById('mobile-menu');
                if (mobileBtn && mobileMenu) {
                    mobileBtn.addEventListener('click', () => {
                        mobileMenu.classList.toggle('hidden');
                    });
                }

                // Theme Toggle Logic
                const desktopToggle = document.getElementById('theme-toggle-desktop');
                const mobileToggle = document.getElementById('theme-toggle-mobile');
                if (desktopToggle) desktopToggle.addEventListener('click', toggleTheme);
                if (mobileToggle) mobileToggle.addEventListener('click', toggleTheme);
            }

            // 3. Inject Footer
            const footerPlaceholder = document.getElementById('footer-placeholder');
            if (footerPlaceholder) {
                footerPlaceholder.innerHTML = getFooterHTML();
                
                // Dad Joke
                const jokeElement = document.getElementById('dad-joke');
                if (jokeElement) {
                    const jokes = [
                        "Why do programmers prefer dark mode? Because light attracts bugs.",
                        "I would tell you a UDP joke, but you might not get it.",
                        "There are 10 types of people in the world: those who understand binary, and those who don't.",
                        "Why was the JavaScript developer sad? Because he didn't know how to 'null' his feelings.",
                        "How many programmers does it take to change a light bulb? None, that's a hardware problem.",
                        "A SQL query walks into a bar, walks up to two tables and asks, 'Can I join you?'",
                        "My password is the last 8 digits of Pi.",
                        "I'm not lazy, I'm just in energy saving mode."
                    ];
                    jokeElement.textContent = jokes[Math.floor(Math.random() * jokes.length)];
                }
            }

            // 4. Icons
            if (typeof lucide !== 'undefined') {
                lucide.createIcons();
                updateThemeIcons(); // Set initial icon state
            }

            // 5. Typewriter
            const twEl = document.getElementById('typewriter');
            if (twEl) initTypewriter(twEl);
        }

        function initTypewriter(element) {
            const phrases = ["Chief Information Officer.", "Tech Enthusiast.", "Home Automation Tinkerer.", "Problem Solver.", "Family Man."];
            let phraseIndex = 0, charIndex = 0, isDeleting = false, typeSpeed = 100;

            function type() {
                const current = phrases[phraseIndex];
                if (isDeleting) {
                    element.textContent = current.substring(0, charIndex - 1);
                    charIndex--;
                    typeSpeed = 50;
                } else {
                    element.textContent = current.substring(0, charIndex + 1);
                    charIndex++;
                    typeSpeed = 100;
                }

                if (!isDeleting && charIndex === current.length) {
                    isDeleting = true; typeSpeed = 2000;
                } else if (isDeleting && charIndex === 0) {
                    isDeleting = false; phraseIndex = (phraseIndex + 1) % phrases.length; typeSpeed = 500;
                }
                setTimeout(type, typeSpeed);
            }
            type();
        }

        document.addEventListener('DOMContentLoaded', initSite);
    </script>
    <!-- END OF SCRIPT BLOCK -->

</body>
</html>